!function(e,n){"function"==typeof define&&define.amd?define([],n("adsenseLoader")):"object"==typeof exports?module.exports=n("adsenseLoader"):e.adsenseLoader=n("adsenseLoader")}(this,function(e){"use strict";var n="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",t=!1,o=250,r={laziness:1,onLoad:!1},a=function(e,n){var t,o={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(o[t]=n[t]);return o},i=function(e,n){var t,o;return function(){var r=this,a=arguments,i=+new Date;t&&i<t+e?(clearTimeout(o),o=setTimeout(function(){t=i,n.apply(r,a)},e)):(t=i,n.apply(r,a))}},s=[],d=[],c=[],f=function(e){(adsbygoogle=window.adsbygoogle||[]).push({});var n=e._adsenseLoaderData.options.onLoad;"function"==typeof n&&e.querySelector("iframe").addEventListener("load",function(){n(e)})},u=function(){if(!s.length)return!0;var e=window.pageYOffset,o=window.innerHeight;s.forEach(function(r){var a,i,u,y,L,g=(a=r,i=a.getBoundingClientRect(),{top:i.top+document.body.scrollTop,left:i.left+document.body.scrollLeft}).top,h=r._adsenseLoaderData.options.laziness+1;if(g-e>o*h||e-g-r.offsetHeight-o*h>0)return!0;s=p(s,r),r._adsenseLoaderData.width=l(r),function(e,n){e.classList?e.classList.add(n):e.className+=" "+n}(r.children[0],"adsbygoogle"),d.push(r),"undefined"!=typeof adsbygoogle?f(r):c.push(r),t||(t=!0,u=n,y=function(){c.forEach(f)},(L=document.createElement("script")).src=u,L.async=!0,L.addEventListener("load",function(){L.parentNode.removeChild(L),"function"==typeof y&&y()}),document.body.appendChild(L))})},l=function(e){return parseInt(window.getComputedStyle(e,":before").getPropertyValue("content").slice(1,-1)||9999)},p=function(e,n){return e.filter(function(e){return e!==n})},y=function(e,n){return e._adsenseLoaderData={originalHTML:e.innerHTML,options:n},e.adsenseLoader=function(n){"destroy"==n&&(s=p(s,e),d=p(d,e),c=p(d,e),e.innerHTML=e._adsenseLoaderData.originalHTML)},e};function L(e,n){"string"==typeof e?e=document.querySelectorAll(e):void 0===e.length&&(e=[e]),n=a(r,n),[].forEach.call(e,function(e){e=y(e,n),s.push(e)}),this.elements=e,u()}return window.addEventListener("scroll",i(o,u)),window.addEventListener("resize",i(o,u)),window.addEventListener("resize",i(o,function(){if(!d.length)return!0;var e=!1;d.forEach(function(n){n._adsenseLoaderData.width!=l(n)&&(e=!0,d=p(d,n),n.innerHTML=n._adsenseLoaderData.originalHTML,s.push(n))}),e&&u()})),L.prototype={destroy:function(){this.elements.forEach(function(e){e.adsenseLoader("destroy")})}},window.adsenseLoaderConfig=function(e){void 0!==e.scriptUrl&&(n=e.scriptUrl),void 0!==e.throttle&&(o=e.throttle)},L});